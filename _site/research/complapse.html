<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.247">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Dr. Olga Perski – complapse</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-WF7G4G33CE"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-WF7G4G33CE', { 'anonymize_ip': true});
</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Dr.&nbsp;Olga Perski</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-research" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Research</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-research">    
        <li>
    <a class="dropdown-item" href="../research/complapse.html"><i class="bi bi-graph-up" role="img">
</i> 
 <span class="dropdown-text">COMPLAPSE</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../research/emasens.html"><i class="bi bi-smartwatch" role="img">
</i> 
 <span class="dropdown-text">EMASENS</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../research/odh_database.html"><i class="bi bi-door-open-fill" role="img">
</i> 
 <span class="dropdown-text">Open Digital Health initiative Living Review &amp; Database Development</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../research/vr_smoking.html"><i class="bi bi-badge-vr" role="img">
</i> 
 <span class="dropdown-text">Virtual Reality for Smokers Unmotivated to Stop</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../research/wellbeing_students.html"><i class="bi bi-balloon-heart" role="img">
</i> 
 <span class="dropdown-text">Mental Wellbeing in Swedish University Students During COVID-19</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../research/fsa_qat.html"><i class="bi bi-card-checklist" role="img">
</i> 
 <span class="dropdown-text">UK Food Standards Agency - Quality Assurance Toolkit</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../research/ema_review.html"><i class="bi bi-sliders" role="img">
</i> 
 <span class="dropdown-text">Systematic Review of Ecological Momentary Assessment Studies</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../research/covid.html"><i class="bi bi-bug" role="img">
</i> 
 <span class="dropdown-text">COVID-19, Smoking and Personal Protective Behaviours</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../research/engagement.html"><i class="bi bi-phone-vibrate" role="img">
</i> 
 <span class="dropdown-text">Acceptability of and Engagement with Digital Behaviour Change Interventions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../research/sts_ats.html"><i class="bi bi-house-door" role="img">
</i> 
 <span class="dropdown-text">UCL Smoking &amp; Alcohol Toolkit Studies</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="https://scholar.google.co.uk/citations?user=t7lihTUAAAAJ&amp;hl=en">
 <span class="menu-text">Publications</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../talks.html">
 <span class="menu-text">Talks</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../teaching.html">
 <span class="menu-text">Teaching and supervision</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../media.html">
 <span class="menu-text">Public engagement</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../policy.html">
 <span class="menu-text">Policy engagement</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../consultancies.html">
 <span class="menu-text">Consultancies</span></a>
  </li>  
</ul>
              <div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#aims-and-objectives" id="toc-aims-and-objectives" class="nav-link active" data-scroll-target="#aims-and-objectives">Aims and objectives</a></li>
  <li><a href="#wp1" id="toc-wp1" class="nav-link" data-scroll-target="#wp1">WP1</a></li>
  <li><a href="#wp2" id="toc-wp2" class="nav-link" data-scroll-target="#wp2">WP2</a></li>
  <li><a href="#wp3" id="toc-wp3" class="nav-link" data-scroll-target="#wp3">WP3</a></li>
  <li><a href="#wp4" id="toc-wp4" class="nav-link" data-scroll-target="#wp4">WP4</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content column-page-left" id="quarto-document-content">



<center>
<img src="complapse.png" class="img-fluid" style="width:60.0%"> <br><br> <strong>Improving the precision of behaviour change theories: Development and validation of a dynamic COMPutational model of LAPSE risk in smokers attempting to stop (COMPLAPSE)</strong>
</center>
<p><br><br></p>
<figcaption>
Logo designed using image by bsd_studio (Image #28812502 at VectorStock.com)
</figcaption>

<p><br></p>
<p>COMPLAPSE is funded by the European Commission under the Horizon Europe Framework Programme (HORIZON), Grant No.&nbsp;101065293 (PI: Dr.&nbsp;Olga Perski; Mentors: Prof.&nbsp;Nelli Hankonen and Prof.&nbsp;Eric Hekler). This website will be used for the dissemination of the project findings, including links to scientific publications, talks and blogs.</p>
<section id="aims-and-objectives" class="level3">
<h3 class="anchored" data-anchor-id="aims-and-objectives">Aims and objectives</h3>
<p>Cigarette smoking remains the leading preventable cause of premature morbidity and mortality in Europe and beyond. Gold standard treatment for smoking cessation includes pharmacotherapy and behavioural support. However, smoking lapses – influenced by momentary fluctuations in cigarette availability, stress, and cravings – are a key source of treatment failure. COMPLAPSE aims to advance the state-of-the-art by developing and validating a formal, dynamical systems model of lapse risk, improving the precision of static behaviour change theories to account for observed complexities and laying the foundation for dynamically tailored, person-centred digital smoking cessation interventions for increased effectiveness. COMPLAPSE is interdisciplinary in scope – drawing on know-how from behavioural science, <a href="../talks/UCSDT32_2023/index.html">systems science and dynamical systems modelling</a> – and directly contributes to Europe’s Path to the Digital Decade and its Strategic Framework for the Prevention of Non-Communicable Diseases. COMPLAPSE aims to address the following Research and Innovation Objectives (ROIs), with each ROI associated with a dedicated Work Package (WP):</p>
<p>ROI1. To develop a conceptual model of lapse risk, drawing on stakeholder input and the researcher’s knowledge of the available literature via participatory systems mapping (WP1).</p>
<p>ROI2. To formulate mathematical equations for each component in the conceptual model and perform a series of computer simulations (WP2).</p>
<p>ROI3. To collect and analyse EMA and sensor data and use this to validate the expert-derived dynamic computational model (WP3).</p>
<p>ROI4. To propose a set of ‘best practice’ recommendations for how to use formal and computational modelling in health psychology research (WP4).</p>
</section>
<section id="wp1" class="level3">
<h3 class="anchored" data-anchor-id="wp1">WP1</h3>
<p>Theories are needed to predict, explain, and influence phenomena of interest. Popular relapse prevention theories are vaguely specified using natural language descriptions and lack temporal information about how key phenomena (i.e., ‘relapse’, ‘prolapse’, ‘abstinence’) are dynamically caused over time and within individuals. Formal modelling involves the translation of a theory’s structure into a mathematical framework and can help mitigate psychology’s ‘theory crisis’, which contributes to the wider reproducibility crisis.</p>
<center><iframe src="https://mfr.de-1.osf.io/render?url=https://osf.io/download/5wmtp/?direct%26mode=render" width="70%" scrolling="yes" height="677px" marginheight="0" frameborder="0" allowfullscreen="" webkitallowfullscreen="" title="Towards improving the precision of health psychology theories"></iframe></center>
<p>The aim of WP1 was to develop a conceptual model of lapse risk in smokers attempting to stop. However, due to the lack of fit-for-purpose methodological guidance, we first conducted a <a href="https://www.tandfonline.com/doi/full/10.1080/17437199.2024.2400977?src=#d1e264">scoping review</a> to examine the extent and nature of research activities pertaining to the use of formal and computational modelling to predict, explain and influence health behaviours unfolding at the within-person level. We synthesised methodological steps in the published literature and generated a set of initial, expert-derived ‘best practice’ modelling recommendations, which informed the next steps of our research.</p>
<p>After conducting the scoping review, we drew on the <a href="https://journals.sagepub.com/doi/full/10.1177/1745691620969647">Theory Construction Methodology</a> to develop a dynamic model of smoking lapse and relapse. We used a participatory, multi-method approach to iteratively develop the conceptual model (also referred to as a ‘prototheory’), which included: i) an informal theory review of popular lapse and relapse theories; and ii) two linked stakeholder interviews with researchers, people with lived experience, stop smoking practitioners, and policymakers (N = 15).</p>
<center>
<p><img src="COMPLAPSE_mod_comp.png" class="img-fluid" style="width:120.0%"></p>
</center></section>
<section id="wp2" class="level3">
<h3 class="anchored" data-anchor-id="wp2">WP2</h3>
<p>Next, we translated the prototheory into a series of difference equations which were implemented in <a href="https://github.com/OlgaPerski/Project_COMPLAPSE.git">R code</a> and an <a href="https://gbovy3-olgaperski.shinyapps.io/COMPLAPSE_app/">R Shiny application</a>, which enables interested users to explore the dynamic model on their own. We conducted a series of computer simulations to examine if the formal and computational model could produce the empirical phenomena which it set out to explain (i.e., ‘relapse’, ‘prolapse’, ‘abstinence’). The stakeholders were invited back to provide feedback on the simulated model outputs. Their feedback was incorporated into an updated model version. A paper describing the development and initial evaluation of the formal and computational model of lapse risk has been submitted for publication and is available as a <a href="https://osf.io/preprints/osf/wx8s5">pre-print</a>.</p>
<center><iframe src="https://mfr.osf.io/render?url=https%3A%2F%2Fosf.io%2Fdownload%2Fzc8uf%2F%3Fdirect%26mode%3Drender" width="70%" scrolling="yes" height="677px" marginheight="0" frameborder="0" allowfullscreen="" webkitallowfullscreen="" title="The participatory development of a formal and computational model of smoking lapse and relapse"></iframe></center>
<p>We also wrote a magazine article to describe how we worked together - integrating know-how from health psychology and mathematics/modelling - to translate the prototheory into a formal and computational model:</p>
<center><iframe src="https://ehps.net/ehp/index.php/contents/issue/view/123/179" width="70%" scrolling="yes" height="677px" marginheight="0" frameborder="0" allowfullscreen="" webkitallowfullscreen="" title="Formal, dynamical systems modelling to advance health psychology theories: Interdisciplinary working where psychology meets mathematics"></iframe></center>
</section>
<section id="wp3" class="level3">
<h3 class="anchored" data-anchor-id="wp3">WP3</h3>
<p>In the final stage of project COMPLAPSE, we are collecting EMA and smartwatch data to empirically evaluate the dynamic model of lapse and relapse. Eligibility criteria include being an adult, daily smoker who i) resides in Sweden and speaks English or Swedish fluently, ii) owns a smartphone, iii) is willing to make a quit attempt, and iv) is willing to respond to frequent EMAs and wear a smartwatch for 28 days. We will fit the formal model to the data from each participant and goodness-of-fit statistics will be calculated.</p>
<p>If you are interested in participating in the study, please read the participant information sheet in <a href="../research/Participant information sheet.pdf" target="_blank" rel="noopener">English</a> or <a href="../research/Information till forskningspersoner.pdf" target="_blank" rel="noopener">Swedish</a> and contact the lead researcher via e-mail (olga.perski@su.se).</p>
</section>
<section id="wp4" class="level3">
<h3 class="anchored" data-anchor-id="wp4">WP4</h3>
<p>In WP4, we will draw on the knowledge generated within project COMPLAPSE and other, related modelling projects to write a tutorial on how to develop formal models in health psychology research. The scoping review in WP1 used a bottom-up approach to identify modelling practices in the published literature and then used this to propose a set of initial, expert-derived modelling recommendations. In WP4, however, we aim to take a broader view by reviewing and synthesising interdisciplinary modelling guidance from several disciplines (e.g., psychology, engineering, biology, physics). We will use this to provide in-depth modelling recommendations.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>